<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Country</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<style>
    body {
        font-family: Arial, sans-serif;
    }
    nav {
        background-color: #333;
        overflow: hidden;
    }
    nav a {
        float: left;
        display: block;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
    }
    nav a:hover {
        background-color: #ddd;
        color: black;
    }
</style>
</head>
<body>
<nav>
    <a href="/create">Create</a>
    <a href="/read">Read</a>
    <a href="/update">Update</a>
    <a href="/delete">Delete</a>
</nav>
<body>
    <h1>Create Country</h1>

    <!-- Display data for Croatia -->
    <div id="croatia-data"></div>

    <!-- Form for adding a new country -->
    <form id="add-form" method="POST">
        <label for="name_common">Name Common:</label>
        <input type="text" name="name_common" required><br>

        <label for="region">Region:</label>
        <input type="text" name="region" required><br>

        <label for="subregion">Subregion:</label>
        <input type="text" name="subregion" required><br>

        <label for="population">Population:</label>
        <input type="text" name="population" required><br>

        <label for="currencies_name">Currencies Name:</label>
        <input type="text" name="currencies_name" required><br>

        <label for="languages">Languages:</label>
        <input type="text" name="languages" required><br>

        <label for="unMember">UN Member:</label>
        <input type="text" name="unMember" required><br>

        <label for="capital">Capital:</label>
        <input type="text" name="capital" required><br>

        <label for="car_signs">Car Signs:</label>
        <input type="text" name="car_signs" required><br>

        <label for="car_side">Car Side:</label>
        <input type="text" name="car_side" required><br>

        <button type="submit">Add</button>
    </form>

    <script>
        $(document).ready(function() {
            // Fetch data for Croatia from the database
            $.ajax({
                url: '/get_country_by_name',
                type: 'GET',
                data: { name: 'Croatia' },
                success: function(data) {
                    // Display data for Croatia
                    var croatiaDataHtml = '<h2> Example Data for Croatia:</h2>';
                    croatiaDataHtml += '<ul>';
                    croatiaDataHtml += '<li>Name Common: ' + data.name_common + '</li>';
                    croatiaDataHtml += '<li>Region: ' + data.region + '</li>';
                    croatiaDataHtml += '<li>Subregion: ' + data.subregion + '</li>';
                    croatiaDataHtml += '<li>Population: ' + data.population + '</li>';
                    croatiaDataHtml += '<li>Currencies Name: ' + data.currencies_name + '</li>';
                    croatiaDataHtml += '<li>Languages: ' + data.languages + '</li>';
                    croatiaDataHtml += '<li>UN Member: ' + data.unMember + '</li>';
                    croatiaDataHtml += '<li>Capital: ' + data.capital + '</li>';
                    croatiaDataHtml += '<li>Car Signs: ' + data.car_signs + '</li>';
                    croatiaDataHtml += '<li>Car Side: ' + data.car_side + '</li>';
                    croatiaDataHtml += '</ul>';
                    $('#croatia-data').html(croatiaDataHtml);
                },
                error: function(error) {
                    console.error('Error fetching data for Croatia:', error);
                }
            });

            // Submit the add form using AJAX
            $('#add-form').submit(function(event) {
                event.preventDefault();

                $.ajax({
                    url: '/add_country',
                    type: 'POST',
                    data: $(this).serialize(),
                    success: function(response) {
                        if (response.status === 'success') {
                            // Reload the country list after adding a new country
                            // You can redirect to another page or display a success message
                        } else {
                            console.error('Error adding country:', response.error);
                        }
                    },
                    error: function(error) {
                        console.error('Error adding country:', error);
                    }
                });
            });
        });
    </script>
</body>
</html>
